<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Print Manager</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background: linear-gradient(135deg,#3B5323,#FFA500); color:white; }
header { background:black; padding:20px; text-align:center; font-size:2em; font-weight:bold; color:#FFA500; box-shadow:0 4px 8px rgba(0,0,0,0.3);}
.container { max-width:750px; margin:50px auto; background: rgba(0,0,0,0.9); padding:30px; border-radius:20px; box-shadow:0 6px 20px rgba(0,0,0,0.5); }
.hidden { display:none; }
button { margin:5px; padding:10px 20px; border:none; background:#3B5323; color:white; cursor:pointer; border-radius:10px; font-weight:bold; }
button:hover { background:#FFA500; color:black; }
input, textarea, select { display:block; margin:5px 0 15px; width:100%; padding:10px; border:2px solid #FFA500; border-radius:10px; background:black; color:white; }
.size-btn-group button { width:30%; }
#suggestions { background:#3B5323; color:white; border-radius:10px; margin-top:-10px; margin-bottom:10px; max-height:150px; overflow-y:auto; }
#suggestions div { padding:8px; cursor:pointer; }
#suggestions div:hover { background:#FFA500; color:black; }
</style>
</head>
<body>

<div class="container" id="passwordContainer">
<h2>Enter Password</h2>
<input type="password" id="passwordInput" placeholder="Password">
<button id="passwordBtn">Enter</button>
<p id="passwordError" style="color:red"></p>
</div>

<div class="container hidden" id="mainContainer">

<header>3D Print Manager</header>

<div id="home">
<button id="addModelBtn">Add 3D Model</button>
<button id="searchModelBtn">Search 3D Model</button>
<button id="addCustomerBtn">Add Customers</button>
<button id="changeInfoBtn">Change Info</button>
</div>

<div id="stepName" class="hidden">
<h2>Name your 3D Model</h2>
<input type="text" id="modelNameInput" placeholder="Model Name">
<button id="nextToSize">Next</button>
<button id="backToHomeFromName">Back</button>
</div>

<div id="stepSize" class="hidden">
<h2>Select Size to Add Info</h2>
<div class="size-btn-group">
<button class="sizeBtn" data-size="small">Small</button>
<button class="sizeBtn" data-size="medium">Medium</button>
<button class="sizeBtn" data-size="large">Large</button>
</div>
<button id="backToName">Back</button>
</div>

<div id="stepInfo" class="hidden">
<h2 id="sizeTitle"></h2>
<label>Print Time (hours)</label>
<input type="number" id="printTimeInput">
<label>Filament Cost ($)</label>
<input type="number" id="filamentCostInput">
<label>Sell Price ($)</label>
<input type="number" id="sellPriceInput">
<label>Important Info</label>
<textarea id="importantInfoInput" rows="3"></textarea>
<button id="saveInfoBtn">Save Info</button>
<button id="backToSizes">Back</button>
</div>

<div id="searchPage" class="hidden">
<h2>Search 3D Model</h2>
<input type="text" id="searchInput" placeholder="Enter model name" autocomplete="off">
<div id="suggestions" class="hidden"></div>
<button id="searchBtn">Search</button>
<div id="searchResult"></div>
<button id="backToHomeFromSearch">Back</button>
</div>

</div>

<script>
document.addEventListener('DOMContentLoaded', ()=>{

let currentModel=null;
let currentSize=null;

function show(id){
document.querySelectorAll('#mainContainer > div').forEach(div=>div.classList.add('hidden'));
document.getElementById(id).classList.remove('hidden');
}

// Password
document.getElementById('passwordBtn').onclick=()=>{
let pass=document.getElementById('passwordInput').value;
if(pass==='stego'){
document.getElementById('passwordContainer').classList.add('hidden');
document.getElementById('mainContainer').classList.remove('hidden');
}else{
document.getElementById('passwordError').innerText='Incorrect password';
}
};

// Home buttons
document.getElementById('addModelBtn').onclick=()=>show('stepName');
document.getElementById('searchModelBtn').onclick=()=>show('searchPage');

// Back buttons
document.getElementById('backToHomeFromName').onclick=()=>show('home');
document.getElementById('backToName').onclick=()=>show('stepName');
document.getElementById('backToSizes').onclick=()=>show('stepSize');
document.getElementById('backToHomeFromSearch').onclick=()=>show('home');

// Next button (model name)
document.getElementById('nextToSize').onclick=()=>{
let name=document.getElementById('modelNameInput').value.trim();
if(!name){ alert('Enter a name'); return; }
currentModel=name;
let items=JSON.parse(localStorage.getItem('models')||'{}');
if(!items[name]) items[name]={ small:{}, medium:{}, large:{} };
localStorage.setItem('models',JSON.stringify(items));
show('stepSize');
};

// Small/Medium/Large buttons
document.querySelectorAll('.sizeBtn').forEach(btn=>{
btn.onclick=()=>{
currentSize=btn.dataset.size;
document.getElementById('sizeTitle').innerText=`Add info for ${currentSize} of ${currentModel}`;
let items=JSON.parse(localStorage.getItem('models')||'{}');
let data=items[currentModel][currentSize]||{};
document.getElementById('printTimeInput').value=data.printTime||'';
document.getElementById('filamentCostInput').value=data.filamentCost||'';
document.getElementById('sellPriceInput').value=data.sellPrice||'';
document.getElementById('importantInfoInput').value=data.importantInfo||'';
show('stepInfo');
};
});

// Save info
document.getElementById('saveInfoBtn').onclick=()=>{
if(!currentModel || !currentSize){ alert('Select model and size first'); return; }
let items=JSON.parse(localStorage.getItem('models')||'{}');
items[currentModel][currentSize]={
printTime:document.getElementById('printTimeInput').value,
filamentCost:document.getElementById('filamentCostInput').value,
sellPrice:document.getElementById('sellPriceInput').value,
importantInfo:document.getElementById('importantInfoInput').value
};
localStorage.setItem('models',JSON.stringify(items));
alert(`Info saved for ${currentModel} (${currentSize})`);
show('stepSize');
};

// Live search suggestions
const searchInput=document.getElementById('searchInput');
const suggestionsDiv=document.getElementById('suggestions');
searchInput.addEventListener('input',()=>{
let query=searchInput.value.toLowerCase();
let items=JSON.parse(localStorage.getItem('models')||'{}');
suggestionsDiv.innerHTML='';
if(!query){ suggestionsDiv.classList.add('hidden'); return; }
let matches=Object.keys(items).filter(name=>name.toLowerCase().includes(query));
matches.forEach(name=>{
let div=document.createElement('div');
div.innerText=name;
div.onclick=()=>{ searchInput.value=name; suggestionsDiv.classList.add('hidden'); };
suggestionsDiv.appendChild(div);
});
suggestionsDiv.classList.remove('hidden');
});

});
</script>
</body>
</html>
